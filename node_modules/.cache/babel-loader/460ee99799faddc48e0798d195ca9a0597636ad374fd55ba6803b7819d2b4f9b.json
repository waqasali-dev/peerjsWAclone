{"ast":null,"code":"/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\nimport * as utils from './utils';\n\n// Browser shims.\nimport * as chromeShim from './chrome/chrome_shim';\nimport * as firefoxShim from './firefox/firefox_shim';\nimport * as safariShim from './safari/safari_shim';\nimport * as commonShim from './common_shim';\nimport * as sdp from 'sdp';\n\n// Shimming starts here.\nexport function adapterFactory() {\n  let {\n    window\n  } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    shimChrome: true,\n    shimFirefox: true,\n    shimSafari: true\n  };\n  // Utils.\n  const logging = utils.log;\n  const browserDetails = utils.detectBrowser(window);\n  const adapter = {\n    browserDetails,\n    commonShim,\n    extractVersion: utils.extractVersion,\n    disableLog: utils.disableLog,\n    disableWarnings: utils.disableWarnings,\n    // Expose sdp as a convenience. For production apps include directly.\n    sdp\n  };\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection || !options.shimChrome) {\n        logging('Chrome shim is not included in this adapter release.');\n        return adapter;\n      }\n      if (browserDetails.version === null) {\n        logging('Chrome shim can not determine version, not shimming.');\n        return adapter;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = chromeShim;\n\n      // Must be called before shimPeerConnection.\n      commonShim.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n      commonShim.shimParameterlessSetLocalDescription(window, browserDetails);\n      chromeShim.shimGetUserMedia(window, browserDetails);\n      chromeShim.shimMediaStream(window, browserDetails);\n      chromeShim.shimPeerConnection(window, browserDetails);\n      chromeShim.shimOnTrack(window, browserDetails);\n      chromeShim.shimAddTrackRemoveTrack(window, browserDetails);\n      chromeShim.shimGetSendersWithDtmf(window, browserDetails);\n      chromeShim.shimSenderReceiverGetStats(window, browserDetails);\n      chromeShim.fixNegotiationNeeded(window, browserDetails);\n      commonShim.shimRTCIceCandidate(window, browserDetails);\n      commonShim.shimRTCIceCandidateRelayProtocol(window, browserDetails);\n      commonShim.shimConnectionState(window, browserDetails);\n      commonShim.shimMaxMessageSize(window, browserDetails);\n      commonShim.shimSendThrowTypeError(window, browserDetails);\n      commonShim.removeExtmapAllowMixed(window, browserDetails);\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection || !options.shimFirefox) {\n        logging('Firefox shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = firefoxShim;\n\n      // Must be called before shimPeerConnection.\n      commonShim.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n      commonShim.shimParameterlessSetLocalDescription(window, browserDetails);\n      firefoxShim.shimGetUserMedia(window, browserDetails);\n      firefoxShim.shimPeerConnection(window, browserDetails);\n      firefoxShim.shimOnTrack(window, browserDetails);\n      firefoxShim.shimRemoveStream(window, browserDetails);\n      firefoxShim.shimSenderGetStats(window, browserDetails);\n      firefoxShim.shimReceiverGetStats(window, browserDetails);\n      firefoxShim.shimRTCDataChannel(window, browserDetails);\n      firefoxShim.shimAddTransceiver(window, browserDetails);\n      firefoxShim.shimGetParameters(window, browserDetails);\n      firefoxShim.shimCreateOffer(window, browserDetails);\n      firefoxShim.shimCreateAnswer(window, browserDetails);\n      commonShim.shimRTCIceCandidate(window, browserDetails);\n      commonShim.shimConnectionState(window, browserDetails);\n      commonShim.shimMaxMessageSize(window, browserDetails);\n      commonShim.shimSendThrowTypeError(window, browserDetails);\n      break;\n    case 'safari':\n      if (!safariShim || !options.shimSafari) {\n        logging('Safari shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = safariShim;\n\n      // Must be called before shimCallbackAPI.\n      commonShim.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n      commonShim.shimParameterlessSetLocalDescription(window, browserDetails);\n      safariShim.shimRTCIceServerUrls(window, browserDetails);\n      safariShim.shimCreateOfferLegacy(window, browserDetails);\n      safariShim.shimCallbacksAPI(window, browserDetails);\n      safariShim.shimLocalStreamsAPI(window, browserDetails);\n      safariShim.shimRemoteStreamsAPI(window, browserDetails);\n      safariShim.shimTrackEventTransceiver(window, browserDetails);\n      safariShim.shimGetUserMedia(window, browserDetails);\n      safariShim.shimAudioContext(window, browserDetails);\n      commonShim.shimRTCIceCandidate(window, browserDetails);\n      commonShim.shimRTCIceCandidateRelayProtocol(window, browserDetails);\n      commonShim.shimMaxMessageSize(window, browserDetails);\n      commonShim.shimSendThrowTypeError(window, browserDetails);\n      commonShim.removeExtmapAllowMixed(window, browserDetails);\n      break;\n    default:\n      logging('Unsupported browser!');\n      break;\n  }\n  return adapter;\n}","map":{"version":3,"names":["utils","chromeShim","firefoxShim","safariShim","commonShim","sdp","adapterFactory","window","arguments","length","undefined","options","shimChrome","shimFirefox","shimSafari","logging","log","browserDetails","detectBrowser","adapter","extractVersion","disableLog","disableWarnings","browser","shimPeerConnection","version","browserShim","shimAddIceCandidateNullOrEmpty","shimParameterlessSetLocalDescription","shimGetUserMedia","shimMediaStream","shimOnTrack","shimAddTrackRemoveTrack","shimGetSendersWithDtmf","shimSenderReceiverGetStats","fixNegotiationNeeded","shimRTCIceCandidate","shimRTCIceCandidateRelayProtocol","shimConnectionState","shimMaxMessageSize","shimSendThrowTypeError","removeExtmapAllowMixed","shimRemoveStream","shimSenderGetStats","shimReceiverGetStats","shimRTCDataChannel","shimAddTransceiver","shimGetParameters","shimCreateOffer","shimCreateAnswer","shimRTCIceServerUrls","shimCreateOfferLegacy","shimCallbacksAPI","shimLocalStreamsAPI","shimRemoteStreamsAPI","shimTrackEventTransceiver","shimAudioContext"],"sources":["C:/Users/Shogun/my-new-app/node_modules/webrtc-adapter/src/js/adapter_factory.js"],"sourcesContent":["/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\nimport * as utils from './utils';\n\n// Browser shims.\nimport * as chromeShim from './chrome/chrome_shim';\nimport * as firefoxShim from './firefox/firefox_shim';\nimport * as safariShim from './safari/safari_shim';\nimport * as commonShim from './common_shim';\nimport * as sdp from 'sdp';\n\n// Shimming starts here.\nexport function adapterFactory({window} = {}, options = {\n  shimChrome: true,\n  shimFirefox: true,\n  shimSafari: true,\n}) {\n  // Utils.\n  const logging = utils.log;\n  const browserDetails = utils.detectBrowser(window);\n\n  const adapter = {\n    browserDetails,\n    commonShim,\n    extractVersion: utils.extractVersion,\n    disableLog: utils.disableLog,\n    disableWarnings: utils.disableWarnings,\n    // Expose sdp as a convenience. For production apps include directly.\n    sdp,\n  };\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection ||\n          !options.shimChrome) {\n        logging('Chrome shim is not included in this adapter release.');\n        return adapter;\n      }\n      if (browserDetails.version === null) {\n        logging('Chrome shim can not determine version, not shimming.');\n        return adapter;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = chromeShim;\n\n      // Must be called before shimPeerConnection.\n      commonShim.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n      commonShim.shimParameterlessSetLocalDescription(window, browserDetails);\n\n      chromeShim.shimGetUserMedia(window, browserDetails);\n      chromeShim.shimMediaStream(window, browserDetails);\n      chromeShim.shimPeerConnection(window, browserDetails);\n      chromeShim.shimOnTrack(window, browserDetails);\n      chromeShim.shimAddTrackRemoveTrack(window, browserDetails);\n      chromeShim.shimGetSendersWithDtmf(window, browserDetails);\n      chromeShim.shimSenderReceiverGetStats(window, browserDetails);\n      chromeShim.fixNegotiationNeeded(window, browserDetails);\n\n      commonShim.shimRTCIceCandidate(window, browserDetails);\n      commonShim.shimRTCIceCandidateRelayProtocol(window, browserDetails);\n      commonShim.shimConnectionState(window, browserDetails);\n      commonShim.shimMaxMessageSize(window, browserDetails);\n      commonShim.shimSendThrowTypeError(window, browserDetails);\n      commonShim.removeExtmapAllowMixed(window, browserDetails);\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection ||\n          !options.shimFirefox) {\n        logging('Firefox shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = firefoxShim;\n\n      // Must be called before shimPeerConnection.\n      commonShim.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n      commonShim.shimParameterlessSetLocalDescription(window, browserDetails);\n\n      firefoxShim.shimGetUserMedia(window, browserDetails);\n      firefoxShim.shimPeerConnection(window, browserDetails);\n      firefoxShim.shimOnTrack(window, browserDetails);\n      firefoxShim.shimRemoveStream(window, browserDetails);\n      firefoxShim.shimSenderGetStats(window, browserDetails);\n      firefoxShim.shimReceiverGetStats(window, browserDetails);\n      firefoxShim.shimRTCDataChannel(window, browserDetails);\n      firefoxShim.shimAddTransceiver(window, browserDetails);\n      firefoxShim.shimGetParameters(window, browserDetails);\n      firefoxShim.shimCreateOffer(window, browserDetails);\n      firefoxShim.shimCreateAnswer(window, browserDetails);\n\n      commonShim.shimRTCIceCandidate(window, browserDetails);\n      commonShim.shimConnectionState(window, browserDetails);\n      commonShim.shimMaxMessageSize(window, browserDetails);\n      commonShim.shimSendThrowTypeError(window, browserDetails);\n      break;\n    case 'safari':\n      if (!safariShim || !options.shimSafari) {\n        logging('Safari shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = safariShim;\n\n      // Must be called before shimCallbackAPI.\n      commonShim.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n      commonShim.shimParameterlessSetLocalDescription(window, browserDetails);\n\n      safariShim.shimRTCIceServerUrls(window, browserDetails);\n      safariShim.shimCreateOfferLegacy(window, browserDetails);\n      safariShim.shimCallbacksAPI(window, browserDetails);\n      safariShim.shimLocalStreamsAPI(window, browserDetails);\n      safariShim.shimRemoteStreamsAPI(window, browserDetails);\n      safariShim.shimTrackEventTransceiver(window, browserDetails);\n      safariShim.shimGetUserMedia(window, browserDetails);\n      safariShim.shimAudioContext(window, browserDetails);\n\n      commonShim.shimRTCIceCandidate(window, browserDetails);\n      commonShim.shimRTCIceCandidateRelayProtocol(window, browserDetails);\n      commonShim.shimMaxMessageSize(window, browserDetails);\n      commonShim.shimSendThrowTypeError(window, browserDetails);\n      commonShim.removeExtmapAllowMixed(window, browserDetails);\n      break;\n    default:\n      logging('Unsupported browser!');\n      break;\n  }\n\n  return adapter;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}